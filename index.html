<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Скрипт Меню</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap');
  * {
    box-sizing: border-box;
  }
  body, html {
    margin: 0; padding: 0; height: 100%;
    font-family: 'Montserrat', sans-serif;
    background: #0a0f21;
    overflow: hidden;
    color: #ddd;
    user-select: none;
    transition: background 0.5s, color 0.5s;
  }
  #background {
    position: fixed;
    top:0; left:0; right:0; bottom:0;
    background: #0a0f21;
    overflow: hidden;
    z-index: 0;
  }
  .circle {
    position: absolute;
    border-radius: 50%;
    background: radial-gradient(circle at center, rgba(0,150,255,0.3) 40%, transparent 80%);
    filter: drop-shadow(0 0 18px rgba(0,150,255,0.9));
    pointer-events: none;
    transition: background 0.4s, filter 0.4s;
  }
  .circle.red {
    background: radial-gradient(circle at center, rgba(255,50,50,0.3) 40%, transparent 80%);
    filter: drop-shadow(0 0 18px rgba(255,50,50,0.9));
  }
  .circle.green {
    background: radial-gradient(circle at center, rgba(50,255,100,0.3) 40%, transparent 80%);
    filter: drop-shadow(0 0 18px rgba(50,255,100,0.9));
  }

  #container {
    position: relative;
    z-index: 10;
    max-width: 900px;
    margin: 40px auto;
    padding: 20px 30px 40px 30px;
    background: #121a3f;
    border-radius: 16px;
    box-shadow: 0 0 25px rgba(0,150,255,0.7);
    transition: box-shadow 0.4s, background 0.4s, color 0.4s;
    color: #ddd;
  }
  #container.red {
    background: #3f1212;
    box-shadow: 0 0 25px rgba(255,50,50,0.7);
    color: #ffaaaa;
  }
  #container.green {
    background: #123f2d;
    box-shadow: 0 0 25px rgba(50,255,100,0.7);
    color: #aaffcc;
  }

  #topbar {
    display: flex;
    gap: 12px;
    align-items: center;
  }

  #search-input {
    width: 100%;
    padding: 10px 14px;
    border-radius: 12px;
    border: none;
    font-size: 16px;
    outline: none;
    box-shadow: inset 0 0 8px #0055ff;
    background: #16204e;
    color: #a0c8ff;
    cursor: pointer;
    transition: box-shadow 0.4s, background 0.4s, color 0.4s;
  }
  #container.red #search-input {
    box-shadow: inset 0 0 8px #ff0000;
    background: #4a1a1a;
    color: #ffaaaa;
  }
  #container.green #search-input {
    box-shadow: inset 0 0 8px #00ff55;
    background: #1a4a33;
    color: #aaffcc;
  }
  #search-input:focus {
    background: #1d2b63;
    color: #e0f0ff;
    cursor: text;
  }
  #container.red #search-input:focus {
    background: #5c1f1f;
    color: #ffcccc;
  }
  #container.green #search-input:focus {
    background: #236648;
    color: #d8ffe9;
  }

  #search-list {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: #16204e;
    border-radius: 12px;
    box-shadow: 0 0 20px rgba(0,100,255,0.7);
    max-height: 160px;
    overflow-y: auto;
    display: none;
    margin-top: 6px;
    z-index: 20;
  }
  #container.red #search-list {
    background: #4a1a1a;
    box-shadow: 0 0 20px rgba(255,50,50,0.7);
  }
  #container.green #search-list {
    background: #1a4a33;
    box-shadow: 0 0 20px rgba(50,255,100,0.7);
  }

  .search-item {
    padding: 10px 18px;
    cursor: pointer;
    color: #a0c8ff;
    font-weight: 600;
    transition: background 0.25s, color 0.25s;
  }
  #container.red .search-item {
    color: #ffaaaa;
  }
  #container.green .search-item {
    color: #aaffcc;
  }
  .search-item:hover {
    background: #0055ff;
    color: white;
  }
  #container.red .search-item:hover {
    background: #ff0000;
    color: #fff0f0;
  }
  #container.green .search-item:hover {
    background: #00ff55;
    color: #003322;
  }

  button.glowing-btn {
    background: #0c1b50;
    border: none;
    color: #a0c8ff;
    font-weight: 700;
    padding: 10px 20px;
    border-radius: 16px;
    cursor: pointer;
    box-shadow: 0 0 8px #0055ff, 0 0 12px #0099ff, 0 0 20px #00bbff;
    transition: box-shadow 0.3s ease, color 0.3s ease, background-color 0.3s ease;
  }
  button.glowing-btn:hover {
    color: #d0e9ff;
    box-shadow: 0 0 14px #0099ff, 0 0 24px #00bbff, 0 0 40px #33ccff;
  }
  #container.red button.glowing-btn {
    background: #4a1a1a;
    color: #ffaaaa;
    box-shadow: 0 0 8px #ff0000, 0 0 12px #ff3333, 0 0 20px #ff5555;
  }
  #container.red button.glowing-btn:hover {
    color: #ffe5e5;
    box-shadow: 0 0 14px #ff3333, 0 0 24px #ff5555, 0 0 40px #ff8888;
  }
  #container.green button.glowing-btn {
    background: #1a4a33;
    color: #aaffcc;
    box-shadow: 0 0 8px #00ff55, 0 0 12px #00cc55, 0 0 20px #00aa55;
  }
  #container.green button.glowing-btn:hover {
    color: #ccffdd;
    box-shadow: 0 0 14px #00cc55, 0 0 24px #00ee77, 0 0 40px #33ff99;
  }

  #code-box-wrapper {
    background: #0a122c;
    border-radius: 12px;
    box-shadow: 0 0 24px rgba(0,170,255,0.5);
    padding: 18px 18px 56px 18px;
    color: #aad8ff;
    white-space: pre-wrap;
    font-family: 'Courier New', Courier, monospace;
    font-size: 14px;
    overflow-y: auto;
    max-height: 300px;
    margin-top: 20px;
    position: relative;
  }
  #container.red #code-box-wrapper {
    background: #4a1a1a;
    box-shadow: 0 0 24px rgba(255,50,50,0.5);
    color: #ffbbbb;
  }
  #container.green #code-box-wrapper {
    background: #1a4a33;
    box-shadow: 0 0 24px rgba(50,255,100,0.5);
    color: #aaffcc;
  }

  #copy-btn {
    position: absolute;
    bottom: 10px;
    right: 16px;
    padding: 6px 14px;
    font-size: 13px;
    font-weight: 600;
    border-radius: 10px;
    border: none;
    background: #0055ff;
    color: white;
    cursor: pointer;
    transition: background-color 0.25s ease;
    user-select: none;
  }
  #copy-btn:hover {
    background: #3399ff;
  }
  #container.red #copy-btn {
    background: #ff3333;
  }
  #container.red #copy-btn:hover {
    background: #ff6666;
  }
  #container.green #copy-btn {
    background: #00cc66;
  }
  #container.green #copy-btn:hover {
    background: #33ee88;
  }

  #youtube-btn {
    margin-top: 20px;
    width: 100%;
  }

  /* Стили для онлайн-счётчика */
  #online-counter {
    position: fixed;
    top: 20px;
    right: 20px;
    background: #0a122ccc;
    padding: 10px 18px;
    border-radius: 14px;
    box-shadow: 0 0 15px #00ff77aa;
    color: #aaffcc;
    font-weight: 700;
    font-family: 'Montserrat', sans-serif;
    user-select: none;
    z-index: 9999;
    display: flex;
    align-items: center;
    gap: 10px;
  }
  #online-indicator {
    width: 14px;
    height: 14px;
    background: #00ff77;
    border-radius: 50%;
    box-shadow: 0 0 8px #00ff77;
    animation: pulse 2s infinite ease-in-out;
  }
  @keyframes pulse {
    0%, 100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.3); opacity: 0.6; }
  }
</style>
</head>
<body>
<div id="background"></div>

<div id="container">
  <div id="topbar">
    <div style="flex-grow:1; position:relative;">
      <input type="text" id="search-input" placeholder="Нажмите для выбора скрипта" readonly />
      <div id="search-list">
        <div class="search-item" data-script="mm2">MM2 Script</div>
        <div class="search-item" data-script="arsenal">Arsenal Script</div>
        <div class="search-item" data-script="adoptme">Adopt Me Script</div>
        <div class="search-item" data-script="99days">99 Days In The Forest</div>
        <div class="search-item" data-script="doors">Doors Script</div>
        <div class="search-item" data-script="brookhaven">Brookhaven Script</div>
      </div>
    </div>
    <button class="glowing-btn" id="design-btn">Design</button>
  </div>

  <div id="code-box-wrapper">
    <pre id="code-box"></pre>
    <button id="copy-btn">Копировать</button>
  </div>
  <button id="youtube-btn" class="glowing-btn">Мой YouTube Канал</button>
</div>

<!-- Онлайн-счётчик -->
<div id="online-counter">
  <div id="online-indicator"></div>
  <div id="online-number">0 онлайн</div>
</div>

<script>
  const container = document.getElementById('container');
  const bg = document.getElementById('background');
  const designBtn = document.getElementById('design-btn');
  const searchInput = document.getElementById('search-input');
  const searchList = document.getElementById('search-list');
  const codeBox = document.getElementById('code-box');
  const copyBtn = document.getElementById('copy-btn');
  const youtubeBtn = document.getElementById('youtube-btn');

  // Темы для переключения
  const themes = ['default', 'red', 'green'];
  let currentThemeIndex = 0;

  // Скрипты для загрузки
  const scripts = {
    mm2: `loadstring(game:HttpGet("https://pastebin.com/raw/3Pvr5Pfy"))()`,
    arsenal: `loadstring(game:HttpGet("https://raw.githubusercontent.com/VoidzyScripter/VoidHub-/main/Source%20Code"))()`,
    adoptme: `loadstring(game:HttpGet("https://raw.githubusercontent.com/mstudio45/MSDOORS/main/MSHUB_Loader.lua",true))()`,
    '99days': `loadstring(game:HttpGet("https://raw.githubusercontent.com/H4xScripts/Loader/refs/heads/main/loader.lua", true))()`,
    doors: `loadstring(game:HttpGet("https://raw.githubusercontent.com/mstudio45/MSDOORS/main/MSHUB_Loader.lua",true))()`,
    brookhaven: `loadstring(game:HttpGet("https://raw.githubusercontent.com/Patheticcs/Soluna-API/refs/heads/main/brookhaven.lua",true))()`
  };

  // Анимация кружащихся кружков на фоне
  const circles = [];
  for (let i = 0; i < 15; i++) {
    const el = document.createElement('div');
    el.className = 'circle';
    el.style.width = '100px';
    el.style.height = '100px';
    el.style.left = Math.random() * window.innerWidth + 'px';
    el.style.top = Math.random() * window.innerHeight + 'px';
    bg.appendChild(el);
    circles.push({
      el,
      x: parseFloat(el.style.left),
      y: parseFloat(el.style.top),
      angle: Math.random() * 2 * Math.PI,
      speed: 0.5 + Math.random()
    });
  }
  function animate() {
    for (const c of circles) {
      c.x += Math.cos(c.angle) * c.speed;
      c.y += Math.sin(c.angle) * c.speed;
      if (c.x < 0 || c.x > window.innerWidth - 100) c.angle = Math.PI - c.angle;
      if (c.y < 0 || c.y > window.innerHeight - 100) c.angle = -c.angle;
      c.el.style.left = c.x + 'px';
      c.el.style.top = c.y + 'px';
    }
    requestAnimationFrame(animate);
  }
  animate();

  // Обработка нажатия кнопки Design - переключение темы
  designBtn.addEventListener('click', () => {
    // Убираем все темы
    container.classList.remove('red', 'green');
    circles.forEach(c => {
      c.el.classList.remove('red', 'green');
    });
    currentThemeIndex = (currentThemeIndex + 1) % themes.length;
    const theme = themes[currentThemeIndex];
    if (theme !== 'default') {
      container.classList.add(theme);
      circles.forEach(c => {
        c.el.classList.add(theme);
      });
    }
  });

  // Показать/спрятать список скриптов
  searchInput.addEventListener('click', () => {
    searchList.style.display = searchList.style.display === 'block' ? 'none' : 'block';
  });

  // При выборе скрипта из списка — показать его код в поле
  searchList.addEventListener('click', e => {
    const item = e.target.closest('.search-item');
    if (!item) return;
    const key = item.dataset.script;
    searchInput.value = item.textContent;
    codeBox.textContent = scripts[key] || '';
    searchList.style.display = 'none';
  });

  // Закрыть список, если клик не по элементам поиска
  document.addEventListener('click', e => {
    if (!searchInput.contains(e.target) && !searchList.contains(e.target)) {
      searchList.style.display = 'none';
    }
  });

  // Копировать код из поля по нажатию кнопки
  copyBtn.addEventListener('click', () => {
    if (!codeBox.textContent) return;
    navigator.clipboard.writeText(codeBox.textContent).then(() => {
      copyBtn.textContent = 'Скопировано!';
      setTimeout(() => { copyBtn.textContent = 'Копировать'; }, 1500);
    }).catch(() => {
      alert('Ошибка копирования');
    });
  });

  // Открыть твой YouTube канал
  youtubeBtn.addEventListener('click', () => {
    window.open('https://youtube.com/@jaba133?si=VPuf9i-SE_s9a5t7', '_blank');
  });

  // Изначально выберем первый скрипт
  searchInput.value = 'MM2 Script';
  codeBox.textContent = scripts.mm2;
</script>

<!-- Firebase SDK и скрипт онлайн-счётчика -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
  import { getDatabase, ref, onValue, set, on
